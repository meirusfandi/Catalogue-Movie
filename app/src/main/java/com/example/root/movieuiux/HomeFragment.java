package com.example.root.movieuiux;import android.net.Uri;import android.os.Build;import android.os.Bundle;import android.support.design.widget.TabLayout;import android.support.v4.app.Fragment;import android.support.v4.view.ViewPager;import android.support.v7.widget.DividerItemDecoration;import android.support.v7.widget.LinearLayoutManager;import android.support.v7.widget.RecyclerView;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.Button;import android.widget.EditText;import com.android.volley.Request;import com.android.volley.RequestQueue;import com.android.volley.Response;import com.android.volley.VolleyError;import com.android.volley.toolbox.JsonObjectRequest;import com.android.volley.toolbox.Volley;import com.example.root.movieuiux.helper.MyAdapter;import com.example.root.movieuiux.helper.MyMovies;import com.google.gson.Gson;import org.json.JSONArray;import org.json.JSONException;import org.json.JSONObject;import java.util.ArrayList;import java.util.Objects;public class HomeFragment extends Fragment {    RecyclerView recyclerView;    EditText editCari;    Button btnCari;    ArrayList<MyMovies> movies;    MyAdapter adapter;    String API_KEY = BuildConfig.MY_API_KEY;    @Override    public void onViewCreated(View view, Bundle savedInstanceState) {        super.onViewCreated(view, savedInstanceState);        getActivity().setTitle(getString(R.string.home));        recyclerView    = (RecyclerView)view.findViewById(R.id.recycler_search);        editCari        = (EditText)view.findViewById(R.id.editSearch);        btnCari         = (Button)view.findViewById(R.id.btnSearch);        btnCari.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                getData();            }        });    }    public void getData(){        movies  = new ArrayList<MyMovies>();        adapter = new MyAdapter(getContext(), movies);        adapter.notifyDataSetChanged();        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext());        linearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(getContext(), linearLayoutManager.getOrientation());        recyclerView.setHasFixedSize(true);        recyclerView.setLayoutManager(linearLayoutManager);        recyclerView.addItemDecoration(dividerItemDecoration);        recyclerView.setAdapter(adapter);        String judul = editCari.getText().toString();        String url = "https://api.themoviedb.org/3/search/movie?api_key="+                API_KEY+"&language=en-US&query="+judul;        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,                new Response.Listener<JSONObject>() {                    @Override                    public void onResponse(JSONObject response) {                        try {                            Gson gson = new Gson();                            JSONArray array = response.getJSONArray("results");                            for (int i=0; i<array.length(); i++){                                JSONObject object = array.getJSONObject(i);                                MyMovies movie = new MyMovies();                                movie.setTitle(object.getString("title"));                                movie.setRelease(object.getString("release_date"));                                movie.setOverview(object.getString("overview"));                                movie.setPoster(object.getString("poster_path"));                                movie.setBackdrop(object.getString("backdrop_path"));                                movie.setPopularity(object.getString("vote_count"));                                movie.setRate_avg(object.getString("vote_average"));                                movies.add(movie);                            }                            adapter = new MyAdapter(getContext(), movies);                            recyclerView.setAdapter(adapter);                        } catch (JSONException e) {                            e.printStackTrace();                        }                    }                },                new Response.ErrorListener() {                    @Override                    public void onErrorResponse(VolleyError error) {                        Log.e("Error", error.toString());                    }                });        RequestQueue requestQueue = Volley.newRequestQueue(getContext());        requestQueue.add(request);    }    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        // Inflate the layout for this fragment        return inflater.inflate(R.layout.fragment_home, container, false);    }    public interface OnFragmentInteractionListener {        // TODO: Update argument type and name        void onFragmentInteraction(Uri uri);    }}